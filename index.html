<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drevins superenkla upload</title>
</head>
<body>
<form action="/" enctype="multipart/form-data" method="post">
    <input type="file" name="upload"><br />
    <input type="submit" value="Upload">
</form>
<br />

<hr />
<button onclick="getLocation()">Position</button>
<a href="./native_refresh.html">LADDA OM</a>
<button onclick="getFirebaseToken()">GetFirebaseToken</button>
<button onclick="setSessionKey('HEJ')">SetSessionKey</button>
<button onclick="setFirebaseCallback('setFirebaseData(`<data>`)')">set firebase callback</button>
<a href="mailto:anders.drevin@gmail.com">Maillänk</a>
<a href="tel:0705256781">Telefonlänk</a>
<input type="text" id="firebase"></input>


<script>
    function getLocation(){
        webkit.messageHandlers.getLocation.postMessage("");
    }
    function getLocationCallback(lat, lng){
        var x = document.getElementById("gpPos");
        x.innerHTML = "Latitude: " + lat + 
        "<br>Longitude: " + lng; 
    }

    function getFirebaseToken(){
        webkit.messageHandlers.firebaseToken.postMessage("");
    }

    //Answer from getFirebaseToken gets here.
    function firebaseTokenCallback(token){
        document.getElementById("firebase").value = token;
    }

    function setSessionKey(sk){
        webkit.messageHandlers.setSessionKey.postMessage(sk);
    }

    function setFirebaseCallback(cb){
        webkit.messageHandlers.setFirebaseCallback.postMessage(cb);
    }

    function setFirebaseData(value){
        document.getElementById("firebase").value = value;
    }
    </script>
</body>
</html>